"use strict";define("image",["lodash","react","core","santaProps","imageCommon"],function(e,t,s,r,o){function i(t){return e.transform(t,function(t,s,r){return t.push(e.kebabCase(r)+":"+s),t},[]).join(";")}var n=o.imageElements,p={displayName:"Image",mixins:[s.compMixins.skinBasedComp],propTypes:{id:t.PropTypes.string,staticMediaUrl:r.Types.ServiceTopology.staticMediaUrl,reportBI:r.Types.reportBI,cssFiltersSupported:r.Types.BrowserFlags.cssFiltersSupported.isRequired,currentUrl:r.Types.currentUrl,onImageUnmount:r.Types.Images.onImageUnmount,getMediaFullStaticUrl:r.Types.ServiceTopology.getMediaFullStaticUrl,devicePixelRatio:r.Types.Device.devicePixelRatio,isExperimentOpen:r.Types.isExperimentOpen,containerWidth:t.PropTypes.number.isRequired,containerHeight:t.PropTypes.number.isRequired,imageData:t.PropTypes.object.isRequired,style:t.PropTypes.object,quality:t.PropTypes.object,opacity:t.PropTypes.number,alignType:t.PropTypes.string,displayMode:t.PropTypes.string,fittingType:t.PropTypes.string,filterEffect:t.PropTypes.object,addItemProp:t.PropTypes.bool,imgStyle:t.PropTypes.object,"data-gallery-id":t.PropTypes.string,"data-page-desc":t.PropTypes.string,"data-query":t.PropTypes.string,"data-image-index":t.PropTypes.number,"data-type":t.PropTypes.string,onMouseEnter:t.PropTypes.func,onTouchStart:t.PropTypes.func},statics:{useSantaTypes:!0},getInitialState:function(){return{showPreloader:!1}},componentWillUnmount:function(){this.props.onImageUnmount(this.props.id)},hasEffect:function(){return this.props.filterEffect&&"none"!==this.props.filterEffect.effectType},onImageMouseEnter:function(){"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(this.props.id)},onImageTouchStart:function(){"function"==typeof this.props.onTouchStart&&this.props.onTouchStart(this.props.id)},getDefaultStyles:function(t){return e.pickBy(t,function(e){return""!==e})},getContainerStyle:function(t){var s=this.getDefaultStyles(this.props.style),r=t.css.container,o=e.assign({position:"absolute",width:this.props.containerWidth,height:this.props.containerHeight},r,s);return this.hasEffect()&&(o.WebkitTransform="translateZ(0)",o.transform="translateZ(0)"),e.isNumber(this.props.imageData.opacity)&&(o.opacity=this.props.imageData.opacity),o},updateRootStyle:function(t){var s=["visibility","transform"],r=e.pick(this.props.style,s),o=e.omit(this.props.style,s);this.hasEffect()&&(r.WebkitTransform="translateZ(0)",r.transform="translateZ(0)"),e.assign(t,{style:r,"data-style":i(o)})},getSkinProperties:function(){var t,s=e.get(this,"props.imageData.alt",""),r=this.hasEffect()&&!this.props.cssFiltersSupported;t=n.getImageComponents(this.props,s,r);var o=this.state.showPreloader&&!this.props.isExperimentOpen("removeImagePreloader")?"circle-preloader white":"",i=e.defaults({addChildren:t},{onMouseEnter:this.onImageMouseEnter,onTouchStart:this.onImageTouchStart},e.omit(this.props,"style"));return this.updateRootStyle(i),{"":i,preloader:{className:o}}},getDefaultSkinName:function(){return"skins.core.ImageNewSkinZoomable"}};return s.compRegistrar.register("core.components.Image",p),p});
//# sourceMappingURL=image.min.js.map